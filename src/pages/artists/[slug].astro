---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Divider from '../../components/Divider.astro';
import ArtistPageHeroSection from '../../components/sections/ArtistPageHeroSection.astro';
import ArtistContentSection from '../../components/sections/ArtistContentSection.astro';
import { artists, getArtistBySlug, getAllArtistSlugs } from '../../data/artists';
import type { ArtistData } from '../../data/artists';

export function getStaticPaths() {
  return artists.map((artist) => ({
    params: { slug: artist.slug },
    props: { artist }
  }));
}

interface Props {
  artist: ArtistData;
}

const { artist } = Astro.props;
---

<Layout>
  <Header />
  <main>
    <ArtistPageHeroSection
      name={artist.name}
      bio={artist.bio}
      fullBio={artist.fullBio}
      image={artist.image}
      instagram={artist.instagram}
      tags={artist.tags}
      bookingHref={artist.bookingHref}
    />
    
    <ArtistContentSection
      galleryImages={artist.galleryImages}
      contentBlocks={artist.contentBlocks}
      showBackLink={true}
    />
    
    <Divider color="light" />
  </main>
  <Footer />
</Layout>

<style>
  main {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: visible;
    overflow-y: visible;
    padding-top: 72px; /* Account for fixed header height */
  }
</style>
